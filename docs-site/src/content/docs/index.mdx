---
title: Agentic Workflow Firewall
description: Network firewall for agentic workflows with domain whitelisting
template: splash
hero:
  tagline: L7 egress control for AI agents and MCP servers using Squid proxy and Docker
  image:
    file: ../../assets/logo.svg
  actions:
    - text: Get Started
      link: /getting-started/quickstart/
      icon: right-arrow
      variant: primary
    - text: View on GitHub
      link: https://github.com/githubnext/gh-aw-firewall
      icon: external
---

import { Card, CardGrid } from '@astrojs/starlight/components';

## Features

<CardGrid>
  <Card title="L7 Domain Whitelisting" icon="shield">
    Control HTTP/HTTPS traffic at the application layer with precise domain-based filtering
  </Card>
  <Card title="Host-Level Enforcement" icon="laptop">
    Uses iptables DOCKER-USER chain to enforce firewall on ALL containers
  </Card>
  <Card title="Docker-in-Docker Support" icon="docker">
    Spawned containers automatically inherit firewall restrictions
  </Card>
  <Card title="Full Filesystem Access" icon="open-book">
    Maintains complete filesystem access for Copilot CLI and MCP servers
  </Card>
</CardGrid>

## What is this?

The Agentic Workflow Firewall provides **L7 (HTTP/HTTPS) egress control** using [Squid proxy](https://www.squid-cache.org/) and Docker containers. It restricts network access to a whitelist of approved domains for AI agents and their MCP servers, ensuring secure and controlled network access.

:::tip[Part of GitHub Next]
This project is a part of GitHub Next's explorations of [Agentic Workflows](https://github.com/githubnext/gh-aw). For more background, check out the [project page on the GitHub Next website](https://githubnext.com/projects/agentic-workflows/)! âœ¨
:::

## Quick Example

```bash
# Simple HTTP request with domain whitelisting
sudo awf \
  --allow-domains github.com,api.github.com \
  -- curl https://api.github.com

# With GitHub Copilot CLI
sudo -E awf \
  --allow-domains github.com,api.github.com,googleapis.com \
  -- copilot --prompt "List my repositories"
```

## Security Considerations

### What This Protects Against
- Unauthorized egress to non-whitelisted domains
- Data exfiltration via HTTP/HTTPS
- MCP servers accessing unexpected endpoints

## Next Steps

<CardGrid>
  <Card title="Quick Start" icon="rocket">
    Get up and running in minutes with our [Quick Start guide](/getting-started/quickstart/)
  </Card>
  <Card title="Usage Guide" icon="open-book">
    Learn all the options and features in the [Usage Guide](/guides/usage/)
  </Card>
  <Card title="Architecture" icon="puzzle">
    Understand how it works in the [Architecture documentation](/reference/architecture/)
  </Card>
</CardGrid>
