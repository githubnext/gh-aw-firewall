---
description: Smoke test workflow that validates Copilot engine functionality with firewall by reviewing recent PRs twice daily
on: 
  schedule: every 12h
  workflow_dispatch:
  pull_request:
    types: [labeled]
    names: ["smoke"]
  reaction: "+1"
permissions:
  contents: read
  pull-requests: read
  issues: read
name: Smoke Copilot
engine: copilot
network:
  allowed:
    - defaults
    - node
    - github
    - playwright
sandbox:
  mcp:
    port: 8080
imports:
  - shared/gh.md
tools:
  edit:
  bash:
    - "*"
  github:
  playwright:
    allowed_domains:
      - github.com
  serena: ["go"]
safe-outputs:
    add-comment:
      hide-older-comments: true
    add-labels:
      allowed: [smoke-copilot]
    messages:
      footer: "> ü§ñ *DIAGNOSTIC REPORT GENERATED BY [{workflow_name}]({run_url})*"
      run-started: "ü§ñ SYSTEM_INIT: [{workflow_name}]({run_url}) ACTIVATED. PROCESSING {event_type}. ALL SUBSYSTEMS ONLINE."
      run-success: "ü§ñ DIAGNOSTIC COMPLETE: [{workflow_name}]({run_url}) STATUS: ALL_UNITS_OPERATIONAL. MISSION_SUCCESS."
      run-failure: "ü§ñ ALERT: [{workflow_name}]({run_url}) {status}. ANOMALY_DETECTED. REPAIR_REQUIRED."
timeout-minutes: 10
strict: false
features:
  mcp-gateway: true
---

# Smoke Test: Copilot Engine

Run smoke tests for Copilot engine with firewall:
1. Review last 2 merged PRs in ${{ github.repository }}
2. Create test file `/tmp/gh-aw/agent/smoke-test-copilot-${{ github.run_id }}.txt`
3. Navigate to https://github.com with Playwright and verify page title
4. List 3 issues using safeinputs-gh tool

Add brief comment (5 lines max) with test results (‚úÖ/‚ùå) and add label `smoke-copilot` if all pass.
